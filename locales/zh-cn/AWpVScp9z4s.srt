1
00:00:00,620 --> 00:00:03,229
除了查看、移动和删除文件外

2
00:00:03,229 --> 00:00:04,849
我们还可以对文件做更多事

3
00:00:04,849 --> 00:00:06,830
例如 我们拿取你前面下载的那个

4
00:00:06,830 --> 00:00:08,870
目录文件 然后用它来

5
00:00:08,869 --> 00:00:11,570
检查看某个单词是否在此目录中

6
00:00:11,570 --> 00:00:13,339
有一个叫做 grep 的 Shell 命令

7
00:00:13,339 --> 00:00:15,560
它知道如何在文本文件中搜索

8
00:00:15,560 --> 00:00:17,510
具有特定内容的行

9
00:00:17,510 --> 00:00:19,790
如果你给它一个单词 如 shell

10
00:00:19,789 --> 00:00:23,230
和一个文件名 如 dictionary.txt

11
00:00:23,230 --> 00:00:26,330
它会读取文件并输出

12
00:00:26,329 --> 00:00:28,069
包含该词的所有行

13
00:00:28,070 --> 00:00:30,920
但是 如果像这种情况 输出的行太多

14
00:00:30,920 --> 00:00:32,570
我们没法一次看完 该怎么办呢

15
00:00:32,570 --> 00:00:35,060
一种办法是我们可以

16
00:00:35,060 --> 00:00:39,560
要求 Shell 将 grep 的输出发送给 less 命令

17
00:00:39,560 --> 00:00:44,780
你可以使用竖线或管道符号 | 这么做

18
00:00:44,780 --> 00:00:46,289
那么现在是什么情况呢？

19
00:00:46,289 --> 00:00:49,640
grep 程序读取输入文件

20
00:00:49,640 --> 00:00:52,160
并打印出与该模式匹配的任何行

21
00:00:52,159 --> 00:00:53,689
但 Shell 做了安排

22
00:00:53,689 --> 00:00:56,780
使输入不会直接到达终端

23
00:00:56,780 --> 00:00:59,929
而是将输入发送给 less 程序

24
00:00:59,929 --> 00:01:02,149
它会一次一页将这些行显示给

25
00:01:02,149 --> 00:01:03,350
终端

26
00:01:03,350 --> 00:01:05,120
要念出这个命令 你可以 
27
00:01:05,120 --> 00:01:09,890
说对 dictionary.txt 文件执行 grep shell 命令 然后传送

28
00:01:09,890 --> 00:01:11,659
给 less 程序

29
00:01:11,659 --> 00:01:14,614
你也可以对来自另一个程序的输入执行 grep 命令

30
00:01:18,519 --> 00:01:22,450
例如你可以使用 cURL 从网络中提取文件

31
00:01:22,450 --> 00:01:26,320
并立即对它使用 grep 命令来获取符合特定模式的内容

32
00:01:26,319 --> 00:01:28,269
而无需先将它保存到一个文件

33
00:01:30,959 --> 00:01:33,659
此 cURL 命令的输出

34
00:01:33,659 --> 00:01:36,810
会作为输入馈送给这个 grep 命令

35
00:01:36,810 --> 00:01:40,490
而非从文件中进行 grep 读取

36
00:01:40,489 --> 00:01:44,780
可以看到 有时 cURL 的一些输出

37
00:01:44,780 --> 00:01:47,540
像这个进度表 会和 grep 的一些输出

38
00:01:47,540 --> 00:01:48,659
混合在一起

39
00:01:48,659 --> 00:01:50,075
会让人有点困惑

40
00:01:50,075 --> 00:01:52,570
实际上它们并没有在 Shell 中混合

41
00:01:52,569 --> 00:01:54,319
而是在终端混合了

42
00:01:54,319 --> 00:01:56,750
如果我们将它发送到一个文件 并不会有问题

43
00:01:56,750 --> 00:01:58,129
不会出现混合的现象

44
00:01:58,129 --> 00:02:00,829
如果你只想知道有多少匹配

45
00:02:00,829 --> 00:02:04,429
比如有多少单词包含字符串 fish

46
00:02:04,430 --> 00:02:06,870
这样做的方法有好几个

47
00:02:06,870 --> 00:02:09,469
一种方法是将 grep 的输出

48
00:02:09,469 --> 00:02:13,129
输送给 wc（字数）程序

49
00:02:13,129 --> 00:02:16,689
并加上 -l 选项让它计算行数

50
00:02:16,689 --> 00:02:19,859
这里我们得到的数字是 105

51
00:02:19,860 --> 00:02:26,010
另一个方法是给 grep 加上 -c 用于计数

52
00:02:26,009 --> 00:02:28,310
同样得到 105

